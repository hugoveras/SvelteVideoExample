import { coreserviceurl } from "stores/store.js";
export default class{
    constructor(deps){
        this.token=deps.token;
        this.inputUploadRequest = deps.inputUploadRequest;
        this.filename=deps.filename,
        this.filetype=deps.filetype,
        this.proto = deps.proto;
        this.client = new deps.proto.ChatReqClient(coreserviceurl)
    }
    UploadFile (){
        console.log("=========entrando a la funcion uploadfile");
        var req = new  this.proto.FileUploadRequest();
        req.setContenttype(this.filetype);
        req.setType(this.filetype);
        req.setName(this.filename);
        
 
      //  req.setContent(btoa('probando como debe ser desde javascript'));
        req.setContent(this.inputUploadRequest);
       //req.setContent(btoa('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'));
        console.log("=========justo antes de ejecutarl el api en la funcion uploadfile");
        var auth={"Authorization" : "Bearer " + this.token};
        return this.client.uploadFileToMongo(req, auth ).then(res=>{
            console.log("................respuesta del update",res)
            return req
    })
    }
}